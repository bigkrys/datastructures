<!DOCTYPE html>
<html>
    <body></body>
    <script>

var numWays = function(n, relation, k) {
    let result = new Array(n),dist =new Array(n).fill(false),count = 0;
    for(let i = 0;i<n;i++){
        result[i] = new Array(n).fill(0)
    }
    for(let i = 0;i<relation.length;i++){
        let node = relation[i];
        result[node[0]][node[1]] = 1
    }
    console.log(result)
    //先尝试能走得通不
    dist[0] = true
    getRoute(0,0,result,dist,0);
    function getRoute(i,j,result,dist,step){
        if(i == n-1 ){
            if(step == k){
                count++;
            }
            return;
        }
        //首先在当前节点寻求可以走的通点
        //需要注意的是 需要约束步数
        for(j;j<n;j++){
            if(result[i][j] == 1 && !dist[j]){
                console.log(i,j,step)
                dist[j] = true
                getRoute(j,0,result,dist,step+1);
            }
        }

    }
    return count;

};
console.log(numWays(3,[[0,1],[0,2],[2,1],[1,2],[1,0],[2,0]],5))
        
    </script>
</html>
